λ¨λ“  μ¶μ²: μ΄μ¤νΈμ†ν”„νΈ λ°±μ—”λ“ κ°λ°μ μ¤λ¥΄λ―Έ 5κΈ°

# DDL

## TRUNCATE

- ν…μ΄λΈ”μ λ¨λ“  λ°μ΄ν„° μ‚­μ 

```sql
TRUNCATE TABLE ν…μ΄λΈ”λ…;
```

<aside>
β­ DROP π† TRUNCATE π† DELETE

|  | DROP | TRUNCATE | DELETE |
| --- | --- | --- | --- |
| μΆ…λ¥ | DDL | DDL(μΌλ¶€ DML) | DML |
| COMMIT | AUTO COMMIT | AUTO COMMIT | μ‚¬μ©μ COMMIT |
| ROLLBACK | λ¶κ°€ | λ¶κ°€ | κ°€λ¥ |
| λ…λ Ήμ–΄ μν–‰μ‹ | ν…μ΄λΈ” μ •μ μ‚­μ  | ν…μ΄λΈ”μ„ μµμ΄ μƒμ„±ν• μ΄κΈ° μƒνƒλ΅ λ§λ“¤μ–΄μ¤ | λ°μ΄ν„°λ§ μ‚­μ  |
| λ΅κ·Έ | λ‚¨κΈ°μ§€ μ•μ | λ‚¨κΈ°μ§€ μ•μ | λ‚¨κΉ€ |
| μ†λ„ | λΉ λ¦„ | λΉ λ¦„ | λλ¦Ό |
</aside>

## INDEX  μΈλ±μ¤

- λ°μ΄ν„° κ²€μƒ‰ λ° μ΅°ν μ„±λ¥μ„ ν–¥μƒ μ‹ν‚¤κΈ° μ„ν•΄ μ‚¬μ©λλ” μλ£κµ¬μ΅°
- μμ£Ό μ‚¬μ©ν•λ” μ—΄μ λ°μ΄ν„°λ“¤μ„ λ―Έλ¦¬ μΈλ±μ¤λ΅ λ§λ“¤μ–΄μ„ ν…μ΄λΈ” μ „μ²΄λ¥Ό FULL SCAN ν•λ” κ²ƒμ„ λ°©μ§€
- μΈλ±μ¤ μƒμ„± / μ¶”κ°€

```sql
-- λ‹¨μΌ μ»¬λΌ μΈλ±μ¤
CREATE INDEX [μΈλ±μ¤λ…] ON [ν…μ΄λΈ”λ…] ([μ»¬λΌλ…]); 

-- λ‹¤μ¤‘ μ»¬λΌ μΈλ±μ¤
CREATE INDEX [μΈλ±μ¤λ…] ON [ν…μ΄λΈ”λ…] ([μ»¬λΌλ…, ...]); 
```

- μΈλ±μ¤ μ‚­μ 

```sql
ALTER TABLE [ν…μ΄λΈ”λ…] DROP INDEX [μΈλ±μ¤μ΄λ¦„];
```

- μΈλ±μ¤ μλ£κµ¬μ΅°
  - Hash Table : νΉμ • μ»¬λΌμ κ°’κ³Ό λ°μ΄ν„°μ μ„μΉλ¥Ό KEY-VALUE ν•νƒλ΅ μ΄λ£¨μ–΄μ§„ λ°μ΄ν„°λ¥Ό μ €μ¥, WHEREμ΅°κ±΄μ λ“±νΈ(=) μ—°μ‚°μ—μ„ ν¨μ¨μ , μ •λ ¬μ΄ μ•λμ–΄μμ–΄ νƒμƒ‰μ΄ ν¨μ¨μ μ΄μ§€λ” μ•μ
  - B-Tree : μμ‹ λ…Έλ“κ°€ 2κ° μ΄μƒ, μ™Όμ½ μμ‹μ€ KEYλ³΄λ‹¤ μ‘μ€ κ°’ / μ¤λ¥Έμ½ μμ‹μ€ KEYλ³΄λ‹¤ ν° κ°’μ„ κ°€μ§€λ©° KEYλ¥Ό κΈ°μ¤€μΌλ΅ μ¤λ¦„μ°¨μ μ •λ ¬
  - B+Tree
- μΈλ±μ¤ κ³ λ ¤μ‚¬ν•­
  - λ°μ΄ν„° μ¶”κ°€, μ‚­μ , κ°±μ‹  λ“±μ΄ μμ£Ό μΌμ–΄λ‚λ” μ»¬λΌμ΄ μ•„λ‹ μ΅°νκ°€ μ£Όλ΅ μ‚¬μ©λλ” μ»¬λΌμΌλ΅ μΈλ±μ¤ μƒμ„±ν•κΈ°
  - **Cardinality** : νΉμ • λ°μ΄ν„° μ§‘ν•©μ μ λ‹ν¬ν• κ°’μ κ°μ
  - **Cardinality, ν™μ©λ„**κ°€ λ†’μ„μλ΅ / **μ¤‘λ³µλ„**κ°€ λ‚®μ„μλ΅ μ ν•©

# DCL

- λ°μ΄ν„°λ² μ΄μ¤λ¥Ό λ‹¤λ£° μ μλ” **κ¶ν• λ¶€μ—¬ λ° λ°•νƒ** μ‹ν‚΄
- **νΈλμ­μ…**( ν•λ‚μ κΈ°λ¥μ„ μν–‰ν•κΈ° μ„ν• ν•λ‚μ λ…Όλ¦¬μ μΈ μ‘μ—… λ‹¨μ„) **κ΄€λ¦¬**

## GRANT

- κ¶ν• λ¶€μ—¬

```sql
GRANT [κ¶ν•] ON [ν…μ΄λΈ”λ…] TO [κ¶ν•μ„ λ°›μ„ μ‚¬μ©μ]
```

## REVOKE

- κ¶ν• λ°•νƒ

```sql
REVOKE [κ¶ν•] ON [ν…μ΄λΈ”λ…] FROM [κ¶ν•μ„ λ°•νƒν•  μ‚¬μ©μ]
```

β‡’ GRANT, REVOKE μ—μ„ λ¶€μ—¬ν•κ³  λ°•νƒν•  μ μλ” κ¶ν•μ μΆ…λ¥

| SELECT | μ΅°ν κ¶ν• |
| --- | --- |
| UPDATE | μμ • κ¶ν• |
| INSERT | μ‚½μ… κ¶ν• |
| DELETE | μ‚­μ  κ¶ν• |
| ALL | λ¨λ“  κ¶ν• |

## COMMIT

- νΈλμ­μ… μ μ©
- μ‚¬μ© λ°©λ²•

    ```sql
    		BEGIN;
    		
    		μΏΌλ¦¬λ¬Έ 1  // νΈλμ­μ… ν•λ‚
    		μΏΌλ¦¬λ¬Έ 2  // νΈλμ­μ… λ‘
    		...
    		
    		COMMIT;
    ```


## ROLLBACK

- νΈλμ­μ… μ·¨μ†, λ³µκµ¬
- μ»¤λ°‹μ΄ μ΄λ£¨μ–΄μ§€κ³ λ‚λ©΄ μ·¨μ† λ¶κ°€λ¥, μ»¤λ°‹ μ „μ΄λΌλ©΄ μ·¨μ† κ°€λ¥!
- μ‚¬μ© λ°©λ²•

    ```sql
    		BEGIN;
    		
    		μΏΌλ¦¬λ¬Έ
    		...
    		
    		ROLLBACK;
    ```


# μ •κ·ν™”

- λ°μ΄ν„°μ κµ¬μ΅°λ¥Ό μµμ ν™”ν•λ” κ³Όμ •
- λ°μ΄ν„°μ μ¤‘λ³µμ„ μµμ†ν™”κ°€ λ©μ 
- μ •κ·ν™”μ μ¥μ 
  - **μΌκ΄€μ„±**: λ°μ΄ν„° μμ •, μ‚­μ  μ‹ μ¤λ¥κ°€ λ°μƒν•  κ°€λ¥μ΄ μ¤„μ–΄λ“¤κ³ , λ°μ΄ν„°μ μΌκ΄€μ„±μ„ μ μ§€ν•κΈ° μ‰¬μ›μ§
  - **μ μ—°μ„±**: λ°μ΄ν„° κµ¬μ΅° λ³€κ²½κ³Ό μƒλ΅μ΄ μ”κµ¬ μ‚¬ν•­μ„ μ‰½κ² μμ© κ°€λ¥ν•΄μ§
  - **μ €μ¥ κ³µκ°„ μµμ ν™”**: μ¤‘λ³µ λ°μ΄ν„° μ κ±°λ΅ λ°μ΄ν„° ν¬κΈ°κ°€ μ¤„κ³ , μ €μ¥ κ³µκ°„κ³Ό κ΄€λ ¨λ λΉ„μ©μ΄ μ κ°λ¨
  - λ°μ΄ν„° κ΄€λ¦¬κ°€ μ‰¬μ›μ§€κ³ , μƒλ΅μ΄ μ”κµ¬ μ‚¬ν•­μ— μ μ—°ν•κ² λ€μ‘ν•  μ μμΌλ©°, μ €μ¥ κ³µκ°„μ λΉ„μ© μ κ°μ„ μ„ν•΄ μ •κ·ν™”κ°€ μ‚¬μ©λ¨

- μ •κ·ν™” κ³Όμ •

  ![μ¶μ²: https://terms.naver.com/entry.naver?docId=3431254&cid=58430&categoryId=58430](https://prod-files-secure.s3.us-west-2.amazonaws.com/e8f11927-b70c-4524-9227-a3efac08e7aa/f5596c68-cd65-407b-9f99-ed961f1701d3/Untitled.png)

  μ¶μ²: https://terms.naver.com/entry.naver?docId=3431254&cid=58430&categoryId=58430


![μ¶μ²: https://blog.naver.com/comma_dev/223421845936](https://prod-files-secure.s3.us-west-2.amazonaws.com/e8f11927-b70c-4524-9227-a3efac08e7aa/7399e07a-9fea-441d-9a38-ed94f348ddac/Untitled.png)

μ¶μ²: https://blog.naver.com/comma_dev/223421845936

## μ  1 μ •κ·ν™” 1NF

- κ° μ—΄μ΄ ν•λ‚μ κ°’μ„ κ°€μ§€κ² ν•λ” κ³Όμ •

<aside>
β­ 1NF

μ „

| μ£Όλ¬Έλ²νΈ | μ ν’λ… | μ ν’κµ¬μ„± |
| --- | --- | --- |
| 1 | λ…ΈνΈλ¶ | CPU, RAM, SSD |
| 2 | μ¤λ§νΈν° | CPU, RAM, λ°°ν„°λ¦¬ |
| 3 | μ¤λ§νΈμ›μΉ | CPU, λ°°ν„°λ¦¬ |

ν›„

| μ£Όλ¬Έλ²νΈ | μ ν’λ… | μ ν’κµ¬μ„± |
| --- | --- | --- |
| 1 | λ…ΈνΈλ¶ | CPU |
| 1 | λ…ΈνΈλ¶ | RAM |
| 1 | λ…ΈνΈλ¶ | SSD |
| 2 | μ¤λ§νΈν° | CPU |
| 2 | μ¤λ§νΈν° | RAM |
| 2 | μ¤λ§νΈν° | λ°°ν„°λ¦¬ |
| 3 | μ¤λ§νΈμ›μΉ | CPU |
| 3 | μ¤λ§νΈμ›μΉ | λ°°ν„°λ¦¬ |
</aside>

## μ  2 μ •κ·ν™” 2NF

- λ¨λ“  μ—΄μ΄ κΈ°λ³Έν‚¤μ— μμ΅΄
- ν„μ¬ ν…μ΄λΈ”μ μ£Όμ μ™€ μƒκ΄€μ—†λ” μ»¬λΌμ€ λ‹¤λ¥Έ ν…μ΄λΈ”λ΅ λ¶„λ¦¬

<aside>
β­ 2NF

μ „

| μ£Όλ¬Έλ²νΈ | μ ν’λ… | μ μ΅°μ‚¬ |
| --- | --- | --- |
| 1 | λ…ΈνΈλ¶ | μ‚Όμ„±μ „μ |
| 2 | μ¤λ§νΈν° | μ—μ§€μ „μ |
| 3 | μ¤λ§νΈμ›μΉ | μ• ν” |

ν›„

1. μ£Όλ¬Έ ν…μ΄λΈ”

| μ£Όλ¬Έλ²νΈ | μ ν’λ… |
| --- | --- |
| 1 | λ…ΈνΈλ¶ |
| 2 | μ¤λ§νΈν° |
| 3 | μ¤λ§νΈμ›μΉ |
1. μ ν’ ν…μ΄λΈ”

| μ ν’λ… | μ μ΅°μ‚¬ |
| --- | --- |
| λ…ΈνΈλ¶ | μ‚Όμ„±μ „μ |
| μ¤λ§νΈν° | μ—μ§€μ „μ |
| μ¤λ§νΈμ›μΉ | μ• ν” |
</aside>

## μ  3 μ •κ·ν™” 3NF

- κ° ν…μ΄λΈ”μ΄ ν•λ‚μ μ£Όμ λ¥Ό κ°€μ§€λ„λ΅ κ΄€λ ¨ μλ” μ»¬λΌλΌλ¦¬ λ¶„λ¦¬ν•μ—¬ μΆ…μ†μ„± μ κ±°
- μΌλ° μ»¬λΌμ—λ§ μΆ…μ†λ μ»¬λΌμ€ λ‹¤λ¥Έ ν…μ΄λΈ”λ΅ λΉΌλ” κ²ƒ

<aside>
β­ 3NF

μ „

| μ£Όλ¬Έλ²νΈ | κ³ κ°λ… | μ£Όμ† | μ ν’λ… | μ ν’ μΉ΄ν…κ³ λ¦¬ |
| --- | --- | --- | --- | --- |
| 1 | μ¤λ¥΄λ―Έ | μ„μΈ | λ…ΈνΈλ¶ | μ „μμ ν’ |
| 2 | λ‚΄λ¦¬λ―Έ | λ¶€μ‚° | μ¤λ§νΈν° | μ „μμ ν’ |
| 3 | ν•λλ³„ | μ μ£Ό | μΉ΄λ©”λΌ | μ „μμ ν’ |

ν›„

1. μ£Όλ¬Έ ν…μ΄λΈ”

| μ£Όλ¬Έλ²νΈ | κ³ κ°λ… | μ ν’λ… |
| --- | --- | --- |
| 1 | μ¤λ¥΄λ―Έ | λ…ΈνΈλ¶ |
| 2 | λ‚΄λ¦¬λ―Έ | μ¤λ§νΈν° |
| 3 | ν•λλ³„ | μΉ΄λ©”λΌ |
1. μ ν’ ν…μ΄λΈ”

| μ ν’λ… | μ ν’ μΉ΄ν…κ³ λ¦¬ |
| --- | --- |
| λ…ΈνΈλ¶ | μ „μμ ν’ |
| μ¤λ§νΈν° | μ „μμ ν’ |
| μΉ΄λ©”λΌ | μ „μμ ν’ |
1. κ³ κ° ν…μ΄λΈ”

| κ³ κ°λ… | μ£Όμ† |
| --- | --- |
| μ¤λ¥΄λ―Έ | μ„μΈ |
| λ‚΄λ¦¬λ―Έ | λ¶€μ‚° |
| ν•λλ³„ | μ μ£Ό |
</aside>

# λ°μ΄ν„° λ¨λΈλ§

- λ°μ΄ν„°μ κµ¬μ΅°μ™€ κ΄€κ³„λ¥Ό **μ‹κ°μ **μΌλ΅ ν‘ν„ β†’ λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ¶• λ©μ 
- λ°μ΄ν„°μ μ „μ²΄μ μΈ κµ¬μ΅° νμ•…κ³Ό ν‘μ—…ν•λ” λ™λ£λ“¤κ³Ό μ†ν†µμ— μ μ©
- λ°μ΄ν„° λ¨λΈλ§ μ μ°¨: κ°λ…μ  λ¨λΈλ§ β†’ λ…Όλ¦¬μ  λ¨λΈλ§ β†’ λ¬Όλ¦¬μ  λ¨λΈλ§
- μ”κµ¬ μ‚¬ν•­μ΄ λ¬΄μ—‡μΈμ§€ λ¶„μ„ν•κ³ ,

  ν•„μ”ν• λ°μ΄ν„°μ™€ λ°μ΄ν„° κ°„μ κ΄€κ³„λ¥Ό μ„¤μ •ν•λ” κ°λ…μ  λ¨λΈλ§ λ‹¨κ³„λ¥Ό κ±°μ³,

  κµ¬μ²΄μ μΈ ν‘λ΅ λ§λ“λ” λ…Όλ¦¬μ  λ¨λΈλ§ λ‹¨κ³„λ¥Ό μν–‰ν•κ³ ,

  μ‹¤μ  λ°μ΄ν„° λ² μ΄μ¤ ν…μ΄λΈ”λ΅ λ§λ“λ” λ¬Όλ¦¬μ  λ¨λΈλ§ λ‹¨κ³„λ¥Ό κ±°μΉ¨


## κ°λ…μ  λ¨λΈλ§

- λΉ„μ¦λ‹μ¤ μ”κµ¬ μ‚¬ν•­μ„ νμ•…ν•κ³  μ΄λ¥Ό λ°μ΄ν„° λ¨λΈλ΅ ν‘ν„ν•λ” λ‹¨κ³„
- λ°μ΄ν„°λ¥Ό μλ―Έ μλ” λ‹¨μ„λ΅ λ¶„λ¥ν•κ³  κ΄€κ³„λ¥Ό μ •μ

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/e8f11927-b70c-4524-9227-a3efac08e7aa/c1b849e0-1e42-49a1-99fa-6b759337c81e/Untitled.png)

## λ…Όλ¦¬μ  λ¨λΈλ§

- κ°λ…μ  λ¨λΈμ„ κΈ°λ°μΌλ΅ λ°μ΄ν„°μ κµ¬μ΅°μ™€ κ΄€κ³„λ¥Ό κµ¬μ²΄ν™”ν•λ” λ‹¨κ³„
- κ° ν…μ΄λΈ”μ ν•„λ“ μ •λ³΄, ν…μ΄λΈ” κ°„μ κ΄€κ³„ (1:1, 1:N, N:M) μ„ μ •μ

< ν…μ΄λΈ” μ„¤λ… >

1. member & order
- 1:N κ΄€κ³„
- member_id ν•„λ“ μ΅΄μ¬
- memberμ primary key, orderμ foreign key

1. order & item
- 1:1 κ΄€κ³„
- item_id ν•„λ“ μ΅΄μ¬
- itemμ primary key, orderμ foreign key

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/e8f11927-b70c-4524-9227-a3efac08e7aa/9ba03073-2077-44d9-9bb0-30e814a17ea1/Untitled.png)

## λ¬Όλ¦¬μ  λ¨λΈλ§

- λ…Όλ¦¬μ  λ¨λΈμ„ κΈ°λ°μΌλ΅ μ‹¤μ  λ°μ΄ν„°λ² μ΄μ¤λ΅ κµ¬ν„ν•λ” λ‹¨κ³„
- SQL λ¬Έμ„ ν†µν•΄ μ‹¤μ  ν…μ΄λΈ”λ΅ λ§λ“¦

```sql
CREATE TABLE `member` (
	`member_id`	VARCHAR(30)	NOT NULL,
	`email`	VARCHAR(30)	NULL
);

CREATE TABLE `order` (
	`order_id`	VARCHAR(30)	NOT NULL,
	`member_id`	VARCHAR(30)	NOT NULL,
	`item_id`	VARCHAR(30)	NOT NULL
);

CREATE TABLE `item` (
	`item_id`	VARCHAR(30)	NOT NULL,
	`item_name`	VARCHAR(30)	NOT NULL
);
```

# ERD (Entity-Relationship Diagram / κ°μ²΄-κ΄€κ³„ λ‹¤μ΄μ–΄κ·Έλ¨)

- λ…Όλ¦¬μ  λ¨λΈλ§ λ°©λ²• μ¤‘ ν•λ‚
- κµ¬μ„±μ”μ† 3κ°€μ§€
  - **κ°μ²΄ Entity**: **ν…μ΄λΈ”**, κ³ μ ν•κ² μ‹λ³„ν•  μ μλ” μ‚¬λ¬Ό / κ°λ… / μ‚¬κ±΄ λ“±

    ex ) `μ‚¬μ©μ, μ ν’, μ£Όλ¬Έ` λ“±

  - **μ†μ„± Attribute**: **μ—΄**, κ°μ²΄μ νΉμ§•μ΄λ‚ μ„±μ§, κ°μ²΄ λ‹Ή μ—¬λ¬ κ°μ μ†μ„±μ„ κ°€μ§ μ μμ

    ex ) `ν•™μƒ` κ°μ²΄μ μ†μ„±μΌλ΅λ” ν•™λ², μ΄λ¦„, μ£Όμ† λ“±

  - **κ΄€κ³„ Relationship**: κ°μ²΄ κ°„μ μ—°κ²°

    ex ) μΌλ€μΌ(1:1) - ν•™μƒκ³Ό μ‹ μ²΄ μ •λ³΄, μΌλ€λ‹¤(1:N) - ν•™μƒκ³Ό μ „λ‹΄ κµμ, λ‹¤λ€λ‹¤(N:M) - ν•™μƒ κ³Ό μμ—…

- ERDλ¥Ό κ·Έλ ¤λ³Ό μ μλ” μ›Ή μ‚¬μ΄νΈ

  https://dbdiagram.io/home

  [A Free Database Designer for Developers and Analysts](http://dbdiagram.io/)

  [ERDCloud](https://www.erdcloud.com/)

  [π“‹ λ°μ΄ν„° λ¨λΈλ§ κ°λ… & ERD λ‹¤μ΄μ–΄κ·Έλ¨ μ‘μ„± π’― μ΄μ •λ¦¬](https://inpa.tistory.com/entry/DB-π“-λ°μ΄ν„°-λ¨λΈλ§-1N-κ΄€κ³„-π“-ERD-λ‹¤μ΄μ–΄κ·Έλ¨)